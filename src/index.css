:root {
  --bg: #0b0e11;
  --panel: #11151b;
  --panel-2: #151a21;
  --border: rgba(255, 255, 255, 0.08);
  --muted: rgba(255, 255, 255, 0.6);
  --text: rgba(255, 255, 255, 0.92);
  --accent: #dd7353; /* requested accent */
  --danger: #ff6b6b;
  --shadow: 0 10px 25px rgba(0,0,0,0.35);
}

* { box-sizing: border-box }
html, body, #root { height: 100% }
body { margin: 0; background: var(--bg); color: var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif }

.app-root { display: grid; grid-template-columns: 1fr; height: 100%; }
.app-main { position: relative; display: grid; grid-template-rows: auto 1fr auto; height: 100%; }
.app-main::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(1200px 380px at 30% 10%, rgba(221,115,83,0.08), transparent 62%),
    radial-gradient(800px 260px at 70% 90%, rgba(221,115,83,0.06), transparent 60%);
  filter: blur(0.4px);
}

.topbar { position: sticky; top: 0; z-index: 10; display:flex; align-items:center; justify-content:center; gap:12px; padding: 12px 20px; background: var(--panel); border-bottom:1px solid var(--border); box-shadow: var(--shadow); }
.brand { display:flex; align-items:center; gap:10px }
.logo { height: 28px; width: auto; filter: drop-shadow(0 2px 8px rgba(221,115,83,0.45)); }
.brand-name { font-family: 'Delicious Handrawn', cursive; font-weight: 700; letter-spacing: 0.4px; }

.greeting { height:100%; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; gap:14px }
.greeting-title { display:flex; align-items:center; gap:12px }
.spark { width:18px; height:18px; border-radius:50%; background: radial-gradient(circle at 50% 50%, #f1b19d 0%, var(--accent) 45%, transparent 65%); filter: blur(.3px); box-shadow: 0 0 25px rgba(221,115,83,0.42) }
.headline { font-family: 'Delicious Handrawn', cursive; font-size:48px; letter-spacing:0.2px }
.tagline { color: var(--muted); font-size:13px }
.center-input { width: 680px; max-width: calc(100% - 160px) }

.chat-state { position:relative; height:100%; display:grid; grid-template-rows: 1fr auto }
.thread { overflow:auto; padding:32px 0 16px; }

.input-card { display:grid; grid-template-columns: auto 1fr auto; align-items:flex-end; gap:12px; padding:14px; background: var(--panel); border: 1px solid var(--border); border-radius:28px; box-shadow: var(--shadow) }
.input-left, .input-right { display:flex; align-items:center; gap:8px }
.input-textarea { width:100%; resize:none; background: transparent; color: var(--text); border:none; outline:none; font-size:15px; line-height:1.4; padding:8px 0 }
.input-textarea:focus { box-shadow: 0 0 0 2px var(--accent) inset; border-radius:12px }
.model-select { display:flex; align-items:center; gap:6px; padding:8px 10px; border-radius:10px; background: var(--panel-2); border:1px solid var(--border); color: var(--muted) }
.send-btn { width:36px; height:36px; border-radius:12px; background: #22293a; border:1px solid var(--border); color: var(--text); display:flex; align-items:center; justify-content:center; box-shadow: var(--shadow) }
.send-btn:hover { background: #263147 }
.dock-input { position:sticky; bottom:0; padding: 16px 40px; background: linear-gradient(180deg, rgba(11,14,17,0) 0%, rgba(11,14,17,0.9) 40%, rgba(11,14,17,1) 100%) }

.chat-thread { display:flex; flex-direction:column; gap:12px; padding: 0 40px }
.msg { display:flex; animation: fadeIn .18s ease }
.msg.user { justify-content:flex-end }
.msg.assistant { justify-content:flex-start }
.msg-bubble { max-width: 720px; padding:12px 14px; border-radius:18px; border:1px solid var(--border); background: #12161d; box-shadow: var(--shadow) }
.msg.user .msg-bubble { background: #182032 }
.msg-text { white-space: pre-wrap }
.msg-meta { margin-top:4px; font-size:12px; color: var(--muted) }

.typing-row { display:flex; align-items:center; gap:6px; color: var(--muted); padding: 8px 44px }
.dot { width:6px; height:6px; border-radius:50%; background:#7f86e6; animation: blink 1s infinite ease-in-out }
.dot:nth-child(2) { animation-delay: .15s }
.dot:nth-child(3) { animation-delay: .3s }
.typing-label { margin-left:8px }

@keyframes blink { 0%, 80%, 100% { opacity:.3 } 40% { opacity:1 } }
@keyframes fadeIn { from { opacity:0; transform: translateY(4px) } to { opacity:1; transform:none } }

.modal-backdrop { position:fixed; inset:0; background: rgba(0,0,0,0.45); display:flex; align-items:center; justify-content:center; padding:20px }
.modal { width: 600px; max-width: 100%; background: var(--panel); border:1px solid var(--border); border-radius:16px; box-shadow: var(--shadow) }
.modal-header { display:flex; align-items:center; justify-content:space-between; padding: 14px 16px; border-bottom:1px solid var(--border) }
.modal-body { padding: 16px }
.modal-footer { display:flex; justify-content:flex-end; gap:8px; padding: 12px 16px; border-top:1px solid var(--border) }
.btn { padding:8px 12px; border-radius:10px; border:1px solid var(--border); background: var(--panel-2); color: var(--text) }
.btn.subtle { background: transparent }
.btn.danger { background: #2b1a1a; border-color: #3a2a2a; color: #ffb3b3 }

.history-list { display:flex; flex-direction:column; gap:8px }
.history-item { display:flex; justify-content:space-between; align-items:center; padding:10px 12px; border-radius:10px; background: var(--panel-2); border:1px solid var(--border); color: var(--text) }
.history-item:hover { background: #1a202b }
.item-title { font-weight:600 }
.item-meta { color: var(--muted); font-size:12px }

.toast { position: fixed; bottom: 24px; left: 24px; background: #22293a; border:1px solid var(--border); color: var(--text); padding:8px 12px; border-radius:10px; box-shadow: var(--shadow) }
.contract-bar { display:flex; align-items:center; justify-content:center; gap:8px; padding: 10px 14px; background: var(--panel); border-top: 1px solid var(--border); box-shadow: var(--shadow); }
.contract-text { font-family: ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size: 13px; padding: 6px 8px; border-radius: 8px; background: var(--panel-2); border:1px solid var(--border); }
.copy-btn { display:inline-flex; align-items:center; justify-content:center; gap:6px; width:32px; height:32px; border-radius:10px; background: var(--panel-2); border:1px solid var(--border); color: var(--text); box-shadow: var(--shadow); }
.copy-btn:hover { background: #1a202b }
.icon-btn { display:inline-flex; align-items:center; justify-content:center; width:36px; height:36px; border-radius:12px; background: var(--panel); border:1px solid var(--border); color: var(--text); box-shadow: var(--shadow); transition: transform .15s ease, background .2s ease, border-color .2s ease }
.icon-btn:hover { transform: translateY(-1px); background: var(--panel-2); border-color: rgba(255,255,255,0.12) }
.icon-btn:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px }
.icon-btn.active { background: #1b2130; border-color: #223 }
